name: Weekly hard sync from Ameba-AIoTon:  schedule:    - cron: '0 2 * * 1'   # Every Monday 02:00 UTC  workflow_dispatch: {}jobs:  sync:    runs-on: ubuntu-latest    steps:      # 1 Checkout current repo (DO NOT persist credentials)      - name: Checkout target repo        uses: actions/checkout@v4        with:          fetch-depth: 0          persist-credentials: false      # 2 Clone upstream (.github repo)      - name: Clone Ameba-AIoT upstream        run: |          git clone --depth 1 https://github.com/Ameba-AIoT/.github.git temp_upstream          # Safety check: abort if clone failed          if [ ! -d temp_upstream/.git ]; then            echo "Upstream clone failed"            exit 1          fi      # 3 Hard sync everything EXCEPT workflows      - name: Sync from upstream (exclude workflows)        run: |          rsync -av --delete \            --exclude='.github/workflows' \            temp_upstream/ ./          rm -rf temp_upstream      # 4 Generate root README from profile README      - name: Generate root README        run: |          rm -f README.md          if [ -f profile/README.md ]; then            cp profile/README.md README.md            rm -rf profile          fi      # 5 Configure git author (required in Actions)      - name: Configure git identity        run: |          git config user.name "github-actions[bot]"          git config user.email "github-actions[bot]@users.noreply.github.com"      # 6 Authenticate push using built-in GITHUB_TOKEN      - name: Authenticate git push        run: |          git remote set-url origin \            https://x-access-token:${{ secrets.GITHUB_TOKEN }}@github.com/${{ github.repository }}.git      # 7 Commit and FORCE push      - name: Commit and force push        run: |          git add .          git commit -m "Weekly hard sync from Ameba-AIoT" || echo "No changes to commit"          git push origin main --force